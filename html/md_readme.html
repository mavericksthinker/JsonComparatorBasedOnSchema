<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SharedLibrary: #**_SharedLibrary for POS_**</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SharedLibrary
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">#**_SharedLibrary for POS_** </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>##**Index** </h2>
<blockquote class="doxtable">
<ul>
<li><a href="##Introduction">Introduction</a></li>
<li><a href="##**Description**">Description</a></li>
<li><a href="##**Validation Module**">Validation Module</a></li>
<li><a href="##**AclPermission Module**">AclPermission Module</a></li>
<li><a href="##**Calculation Module**">Calculation Module</a></li>
<li><a href="##**Transaction Module**">Transaction Module</a> </li>
</ul>
</blockquote>
<hr/>
 <hr/>
 <h2>**Introduction**</h2>
<hr/>
<p> &gt;_The aim of the library is to perform calculation , handling Permission requests, <a class="el" href="classValidation.html">Validation</a>, Transaction,Printing ._</p>
<p>&gt;_It operates on android,ios,windows,linux platform with the help of compiler(using the .cpp,.h files (android and ios) and with the help of .dll and .so files (windows and linux respectively),php,nodejs( using suitable wrapper for the scripting languages(preferably <a href="http://www.swig.org/Doc3.0/SWIGDocumentation.html">Swig</a>)._</p>
<p>&gt;_The library is already built, use specified files as mentioned to run on different platform and scripting language._ </p><hr/>
 <hr/>
<h2>##**Description** </h2>
<p>&gt;_This is a c++ library that handles the processing of the POS mainly for calculation, validation,transactions..._ </p><h2>###Requirements </h2>
<h3>It is built using :</h3>
<ul>
<li>Clion</li>
<li>Swig(Php-dev,python,nodejs,npm,nvm),</li>
<li>Rapidjson</li>
<li>GoogleTest</li>
<li>Cmake</li>
</ul>
<h2>&gt;###Platform Used </h2>
<ul>
<li>Linux(ubuntu18.04/ubuntu16.04)</li>
<li>Windows10</li>
<li>Android</li>
<li>IOS</li>
</ul>
<h2>&gt;###Scripting Language </h2>
<ul>
<li>PHP</li>
<li>JavaScript</li>
</ul>
<h2>&gt;###How to build the library </h2>
<h2>&gt;####For CrossPlatform </h2>
<p>1.To build the library you require the .cpp and .h (source files) that is provided in the folder SharedLib (<a class="el" href="library_8h.html">library.h</a>,<a class="el" href="validation_8cpp.html">validation.cpp</a>,<a class="el" href="aclPermission_8cpp.html">aclPermission.cpp</a>,calculationOfOrder.cpp),include/rapidjson folders, along with this the CMakeList.txt</p>
<p>&gt;2.Copy them into a folder and open that folder using clion and then build the project.</p>
<p>&gt;3.After building the library use the .h and .cpp(android,IOS) or .so(linux) or .dll(windows)</p>
<h2>&gt;####For PHP </h2>
<p>&gt;_First an interface file has to be created (.i) and then you have to build the .so files using these commands:_</p>
<blockquote class="doxtable">
<p>swig -php example.i </p>
</blockquote>
<blockquote class="doxtable">
<p>gcc <code>php-config --includes</code> -fpic -cpp example_wrap.cpp </p>
</blockquote>
<blockquote class="doxtable">
<p>gcc -shared example_wrap.o -o example.so </p>
</blockquote>
<p>&gt;_Then include the final .so file created in the extension file of either php5 or php7 that you have used_</p>
<p>&gt;extension=/path/to/modulename.so</p>
<p>&gt;dl("/path/to/modulename.so"); // Load the module</p>
<p>&gt;include("example.php");</p>
<p>&gt;####For Nodejs</p>
<p>&gt;_Similar as PHP but use node version 6 or lower_</p>
<p>&gt;_For this you have to create a .gyp file along with the interface file (.i)_</p>
<p>&gt;#####First create a wrapper using Swig</p>
<p>&gt;$ swig -javascript -node -c++ example.i</p>
<p>&gt;#####Then run node-gyp build to actually create the module:</p>
<p>&gt;$ node-gyp build</p>
<p>&gt;#####This will create a build folder containing the native module. To use the extension you need to 'require' it in your Javascript source file:</p>
<p>&gt;require("./build/Release/example")</p>
<h2>&gt;###Unit Tests </h2>
<p>&gt;1.The unit test for this library is done with <a href="https://github.com/google/googletest">GoogleTest</a>(downloaded from the git repo).</p>
<p>&gt;2.Create a folder name lib (in the main folder containing <a class="el" href="main_8cpp.html">main.cpp</a>).</p>
<p>&gt;3.The CMakeList.txt is already set accordingly.</p>
<p>&gt;4.The Unit Test utilizes the source files along with the .cpp files present in the test folder.</p>
<p>&gt;5.Then open the entire repo (folder) with the help of clion and build it.</p>
<p>&gt;6 There are 122 tests mentioning all the possible case of operation and it functions pretty well.</p>
<hr/>
 <hr/>
<h2>**Validation Module**</h2>
<hr/>
<p> &gt;**ClassName: validation**</p>
<h2>&gt;###<a class="el" href="classValidation.html">Validation</a> module contains three functions: </h2>
<p>&gt;1.checkEmailValid(String email);</p>
<p>&gt;2.checkPhoneValid(String phone-number);</p>
<p>&gt;3.isEqualItem(string item1, string item2, string template);</p>
<p>&gt;####1.checkEmailValid(string email)-</p>
<p>&gt;_As the name suggests its used for the validation of the email format, when the email id is passed as string it checks if the format is valid or not._</p>
<p>&gt;####2.checkPhoneValid(string phone-number)-</p>
<p>&gt;_This function verifies the phone number when the phone number is passed as string._</p>
<p>&gt;####3.isEqualItem(string item1, string item2,string template)-</p>
<p>&gt;_This function verifies if the item1 and item2 are equal or not based on the keys present in the template. When you pass the item1,item2,template as a valid json string it returns true or false based on the equality_</p>
<p>&gt;_Refer the validation tests for examples_ </p><hr/>
 <hr/>
<h2>**AclPermission Module**</h2>
<hr/>
<p>&gt;**ClassName:aclPermission**</p>
<p>&gt;####Function inside this is:</p>
<p>&gt;checkPermission(Id,Permission);</p>
<p>&gt;_AclPermission checks if the id has the permission granted to do certain task The id is sent as first parameter(string format) and the permission list is passed as second parameter (jsonstring format) and this function will check if the permission for the particular Id exists or not and will be returning true and false based on the outcome The permission json should be a flat json array(as per requirements of the client)._</p>
<p>&gt;_For example please refer the aclpermissiontest_ </p><hr/>
 <hr/>
<h2>##**Calculation Module** </h2>
<p>&gt;**ClassName: calculation**</p>
<blockquote class="doxtable">
<p>This module performs the calculation of the Order </p>
</blockquote>
<p>&gt;####It includes following functions:</p>
<p>&gt;1 .calculateOrderPrice(Order order) //Price for order</p>
<p>&gt;2 .calculateItemAmount(Item foodItem) //Item amount=item price + option price</p>
<p>&gt;3 .calculateItemOptionPrice(Item item) //Option price</p>
<p>&gt;4 .calculateItemDiscountAmount(Item foodItem, List&lt;DiscountItem&gt; discounts) //Discount for item</p>
<p>&gt;5 .calculateItemTaxAmount(Item foodItem, List&lt;TaxItem&gt; taxes) //Tax for item</p>
<p>&gt;6 .discountItem(DiscountItem discountItem, double amount) //Caculate discount for a given amount</p>
<p>&gt;7 .taxItem(TaxItem taxItem, double amount) //Caculate tax for a given amount</p>
<p>&gt;8 . priceBeforePreTax(double amount) //Remove tax included in price</p>
<p>&gt;9 . percentToRate(double percent) //Rate = percentage/100</p>
<p>&gt;10 .rateToPercent(double rate) //Percentage=rate*100</p>
<p>&gt;11 .sortCumulativeTaxes(List&lt;TaxItem&gt; taxItems)//calculation of cumulative tax</p>
<p>&gt;_When a Json string is passed (containing the information of the items price ,quantity, tax and discount value, their types) to the calculateOrderPrice(string )_</p>
<h2>&gt;####It returns a jsonstring including the data of: </h2>
<p>&gt;1.price of each item</p>
<p>&gt;2.quantity of each item</p>
<p>&gt;3.subtotal of each item</p>
<p>&gt;4.discount of each item</p>
<p>&gt;5.Amount of each item</p>
<p>&gt;6.tax of each item</p>
<p>&gt;7.price of order</p>
<p>&gt;8.quantity of order</p>
<p>&gt;9.subtotal of order</p>
<p>&gt;10.discount of order</p>
<p>&gt;11.Amount of order</p>
<p>&gt;12.tax of order</p>
<p>&gt;13.subtotal of order</p>
<p>&gt;14.Grand Total of entire order</p>
<p>&gt;####Formulae or Flow of the program:</p>
<p>&gt;--&mdash; &gt;1. First the order json Is passed to calculateOrderPrice(string order).</p>
<p>&gt;2.This list contains the price of each item, the quantity, the option price, the tax values and the dicount values(present inside the item part).</p>
<p>&gt;3.From it the subAmount,Discount,Amount,Tax,totalAmount of the items,each Discounts per Items , each tax per items are calculated.</p>
<p>&gt;4.This is performed for all the items present in the item json</p>
<p>&gt;5.Then the final amount of order(Price),quantity,totalDiscount ,totalTax,subTotal,Total of the entire order is calculated.</p>
<p>&gt;Finally the json with all hte required calculation values is sent back.</p>
<p>&gt;**Note:** Each discount and tax per item is mentioned inside the item in the tax as amount(total of the tax) and subAmount(per tax per item).</p>
<h2>&gt;####Basic format of OrderJson(Sample Format) </h2>
<p>&gt;{ "data": { "customer": { "address": null }, "table": null, "items": [ { "category": { "id": "435f22a0-c505-11e7-854d-c9a1234cbf63", "name": "Pizzadsadsa" }, "id": "04dbaba0-3985-11e8-a4e9-1f0eb8a65d1c", "estimated_time": "0", "option_set": [], "taxes": [ { "name": "phuc", "all_categories": 1, "value": 21, "tax_type": 1, "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 672890.82, "cat_taxes": [], "value_type": 0, "cumulative": 1, "default": 1, "selected": true, "translations": [ { "id": 295, "created_at": "2018-05-02 04:43:43", "name": "phuc", "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "updated_at": "2018-05-02 04:43:43" } ], "subAmount": 0, "active": 1 }, { "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 0, "cat_taxes": [ { "is_tax_set": 0, "category_uuid": "87581b80-c439-11e7-bd77-27fabda24dbe" } ], "value_type": 1, "cumulative": 1, "default": 0, "selected": true, "translations": [ { "id": 314, "created_at": "2018-05-04 07:50:31", "name": "1223123", "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "updated_at": "2018-05-04 07:50:31" } ], "subAmount": 0, "active": 1, "name": "1223123", "all_categories": 0, "value": 11, "tax_type": 1 } ], "discount": [ { "name": "phuc", "all_categories": 1, "value": 21, "tax_type": 1, "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 672890.82, "cat_taxes": [], "value_type": 0, "cumulative": 1, "default": 1, "selected": true, "translations": [ { "id": 295, "created_at": "2018-05-02 04:43:43", "name": "phuc", "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "updated_at": "2018-05-02 04:43:43" } ], "subAmount": 0, "active": 1 }, { "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 0, "cat_taxes": [ { "is_tax_set": 0, "category_uuid": "87581b80-c439-11e7-bd77-27fabda24dbe" } ], "value_type": 0, "cumulative": 0, "default": 0, "selected": true, "translations": [ { "id": 314, "created_at": "2018-05-04 07:50:31", "name": "1223123", "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "updated_at": "2018-05-04 07:50:31" } ], "subAmount": 0, "active": 1, "name": "1223123", "all_categories": 0, "value": 11, "tax_type": 1 } ], "amount": 242, "type": 0, "total_discount": 0, "price": 60.5, "qty": 4, "pretax_price": 60.5, "unique_id": "78065ba0-58c0-11e8-8d14-0f31745c622b", "options": { "breakdown": [], "total": 0 }, "discounts": [], "total_tax": 50.82, "subtotal": 242, "total": 292.82, "name": "banh khao" }, { "amount": 3204000, "type": 0, "total_discount": 0, "price": 10000, "qty": 2, "pretax_price": 10000, "unique_id": "780674c0-58c0-11e8-96d8-dd4f8e3edace", "options": { "breakdown": [ { "type": "option", "id": "f04a1500-c506-11e7-98b6-dd035c35d0cc", "price": 398000, "name": "18 \"" }, { "price": 398000, "name": "18 \"",
                            "type": "option",
                            "id": "f04a1500-c506-11e7-98b6-dd035c35d0cc" }, { "name": "18 \"",
                            "type": "option",
                            "id": "f04a1500-c506-11e7-98b6-dd035c35d0cc",
                            "price": 398000 }, { "id": "f04a1500-c506-11e7-98b6-dd035c35d0cc", "price": 398000, "name": "18 \"",
                            "type": "option" } ], "total": 0 }, "discounts": [], "total_tax": 672840, "subtotal": 3204000, "total": 3876840, "name": "Tropic Thunder", "category": { "name": "Pizzadsadsa", "id": "435f22a0-c505-11e7-854d-c9a1234cbf63" }, "id": "a73374c0-c506-11e7-a2c8-e7a54e3a7736", "estimated_time": "0", "option_set": [ { "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "min_choice": 1, "mandatory": "1", "name": "Pizza Size", "option": [ { "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "option_uuid": "08809140-2e5a-11e8-860c-5d835def37e1", "trackable": 0, "name": "size 30", "is_original": 0, "type": "option", "price": -10000, "created_at": "2018-03-23 05:21:25", "updated_at": "2018-03-23 05:21:25" }, { "trackable": 0, "option_uuid": "f04a1500-c506-11e7-98b6-dd035c35d0cc", "name": "18 \"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354152",
                                "price": 398000,
                                "created_at": "2017-11-09 11:32:04",
                                "updated_at": "2017-11-09 11:32:04",
                                "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7" }, { "trackable": 0, "option_uuid": "f9985040-c506-11e7-88a6-6fe86a83bca1", "name": "12\"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354153",
                                "price": 288000,
                                "created_at": "2017-11-09 11:32:20",
                                "updated_at": "2017-11-09 11:32:20",
                                "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7" } ], "id": "35589", "created_at": "2017-11-09 11:31:08", "multiple_choice": "0", "updated_at": "2017-11-09 11:31:08", "multiple_option": "0", "max_choice": 1, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719" }, { "min_choice": 0, "mandatory": "0", "name": "Time", "option": [ { "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "02845080-c507-11e7-a7e3-ff33f1ea9e91", "name": "Same time", "is_original": 1, "type": "option", "id": "354155" }, { "id": "354156", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "02a5b600-c507-11e7-820a-0b731a229780", "name": "Table Share", "is_original": 1, "type": "option" }, { "updated_at": "2017-11-09 11:33:02", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "12baf4d0-c507-11e7-9291-8d6c54a9d077", "name": "Wait for fire", "is_original": 1, "type": "option", "id": "354157", "price": 0, "created_at": "2017-11-09 11:33:02" }, { "updated_at": "2017-11-09 11:33:03", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "13147b40-c507-11e7-890b-c987bd73c9d2", "name": "Hold", "is_original": 1, "type": "option", "id": "354158", "price": 0, "created_at": "2017-11-09 11:33:03" }, { "updated_at": "2017-11-09 11:32:21", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "f9faa150-c506-11e7-a671-33bd2e261084", "trackable": 0, "name": "Anytime", "is_original": 1, "type\n    ": "option", "id": "354154", "price": 0, "created_at": "2017-11-09 11:32:21" } ], "id": "35590", "created_at": "2017-11-09 11:31:09", "multiple_choice": "0", "updated_at": "2018-03-23 05:19:53", "multiple_option": "0", "max_choice": 5, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "name": "Pizza Size", "option": [ { "id": "354159", "price": 398000, "created_at": "2017-11-09 11:33:04", "updated_at": "2017-11-09 11:33:04", "opt_set_uuid": "e4c60c70-c506-11e7-92d4-a541ab86b065", "trackable": 0, "option_uuid": "13d52230-c507-11e7-b644-e9514597c4ef", "name": "18 \"",
                                "is_original": 1,
                                "type": "option" }, { "updated_at": "2017-11-09 11:33:04", "opt_set_uuid": "e4c60c70-c506-11e7-92d4-a541ab86b065", "trackable": 0, "option_uuid": "13f7aa90-c507-11e7-ab08-bd50f2e6dd14", "name": "12\"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354160",
                                "price": 288000,
                                "created_at": "2017-11-09 11:33:04" } ], "id": "35591", "created_at": "2017-11-09 11:31:45", "multiple_choice": "0", "updated_at": "2017-11-09 11:31:45", "multiple_option": "0", "max_choice": 1, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "e4c60c70-c506-11e7-92d4-a541ab86b065", "min_choice": 0, "mandatory": "0" }, { "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "min_choice": 1, "mandatory": "1", "name": "Pizza Size", "option": [ { "name": "size 30", "is_original": 0, "type": "option", "price": -10000, "created_at": "2018-03-23 05:21:25", "updated_at": "2018-03-23 05:21:25", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "trackable": 0, "option_uuid": "08809140-2e5a-11e8-860c-5d835def37e1" }, { "trackable": 0, "option_uuid": "f04a1500-c506-11e7-98b6-dd035c35d0cc", "name": "18 \"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354152",
                                "price": 398000,
                                "created_at": "2017-11-09 11:32:04",
                                "updated_at": "2017-11-09 11:32:04",
                                "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7" }, { "created_at": "2017-11-09 11:32:20", "updated_at": "2017-11-09 11:32:20", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "trackable": 0, "option_uuid": "f9985040-c506-11e7-88a6-6fe86a83bca1", "name": "12\"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354153",
                                "price": 288000 } ], "id": "35589", "created_at": "2017-11-09 11:31:08", "multiple_choice": "0", "updated_at": "2017-11-09 11:31:08", "multiple_option": "0", "max_choice": 1, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719" }, { "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "min_choice": 1, "mandatory": "1", "name": "Pizza Size", "option": [ { "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "trackable": 0, "option_uuid": "08809140-2e5a-11e8-860c-5d835def37e1", "name": "size 30", "is_original": 0, "type": "option", "price": -10000, "created_at": "2018-03-23 05:21:25", "updated_at": "2018-03-23 05:21:25" }, { "updated_at": "2017-11-09 11:32:04", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "trackable": 0, "option_uuid": "f04a1500-c506-11e7-98b6-dd035c35d0cc", "name": "18 \"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354152",
                                "price": 398000,
                                "created_at": "2017-11-09 11:32:04" }, { "price": 288000, "created_at": "2017-11-09 11:32:20", "updated_at": "2017-11-09 11:32:20", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "option_uuid": "f9985040-c506-11e7-88a6-6fe86a83bca1", "trackable": 0, "name": "12\"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354153" } ], "id": "35589", "created_at": "2017-11-09 11:31:08", "multiple_choice": "0", "updated_at": "2017-11-09 11:31:08", "multiple_option": "0", "max_choice": 1 }, { "multiple_choice": "0", "updated_at": "2018-03-23 05:19:53", "multiple_option": "0", "max_choice": 5, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "min_choice": 0, "mandatory": "0", "name": "Time", "option": [ { "is_original": 1, "type": "option", "id": "354155", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "02845080-c507-11e7-a7e3-ff33f1ea9e91", "name": "Same time" }, { "trackab\n    le": 0, "option_uuid": "02a5b600-c507-11e7-820a-0b731a229780", "name": "Table Share", "is_original": 1, "type": "option", "id": "354156", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "trackable": 0, "option_uuid": "12baf4d0-c507-11e7-9291-8d6c54a9d077", "name": "Wait for fire", "is_original": 1, "type": "option", "id": "354157", "price": 0, "created_at": "2017-11-09 11:33:02", "updated_at": "2017-11-09 11:33:02", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "option_uuid": "13147b40-c507-11e7-890b-c987bd73c9d2", "trackable": 0, "name": "Hold", "is_original": 1, "type": "option", "id": "354158", "price": 0, "created_at": "2017-11-09 11:33:03", "updated_at": "2017-11-09 11:33:03", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "type": "option", "id": "354154", "price": 0, "created_at": "2017-11-09 11:32:21", "updated_at": "2017-11-09 11:32:21", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "f9faa150-c506-11e7-a671-33bd2e261084", "name": "Anytime", "is_original": 1 } ], "id": "35590", "created_at": "2017-11-09 11:31:09" }, { "max_choice": 5, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "min_choice": 0, "mandatory": "0", "name": "Time", "option": [ { "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "02845080-c507-11e7-a7e3-ff33f1ea9e91", "trackable": 0, "name": "Same time", "is_original": 1, "type": "option", "id": "354155", "price": 0, "created_at": "2017-11-09 11:32:35" }, { "option_uuid": "02a5b600-c507-11e7-820a-0b731a229780", "trackable": 0, "name": "Table Share", "is_original": 1, "type": "option", "id": "354156", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "option_uuid": "12baf4d0-c507-11e7-9291-8d6c54a9d077", "trackable": 0, "name": "Wait for fire", "is_original": 1, "type": "option", "id": "354157", "price": 0, "created_at": "2017-11-09 11:33:02", "updated_at": "2017-11-09 11:33:02", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "name": "Hold", "is_original": 1, "type": "option", "id": "354158", "price": 0, "created_at": "2017-11-09 11:33:03", "updated_at": "2017-11-09 11:33:03", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "13147b40-c507-11e7-890b-c987bd73c9d2" }, { "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "f9faa150-c506-11e7-a671-33bd2e261084", "trackable": 0, "name": "Anytime", "is_original": 1, "type": "option", "id": "354154", "price": 0, "created_at": "2017-11-09 11:32:21", "updated_at": "2017-11-09 11:32:21" } ], "id": "35590", "created_at": "2017-11-09 11:31:09", "multiple_choice": "0", "updated_at": "2018-03-23 05:19:53", "multiple_option": "0" }, { "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "min_choice": 0, "mandatory": "0", "name": "Time", "option": [ { "trackable": 0, "option_uuid": "02845080-c507-11e7-a7e3-ff33f1ea9e91", "name": "Same time", "is_original": 1, "type": "option", "id": "354155", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "is_original": 1, "type": "option", "id": "354156", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "02a5b600-c507-11e7-820a-0b731a229780", "trackable": 0, "name": "Table Share" }, { "trackable": 0, "option_uuid": "12baf4d0-c507-11e7-9291-8d6c54a9d077", "name": "Wait for fire", "is_original": 1, "type": "option", "id": "354157", "price": 0, "created_at": "2017-11-09 11:33:02", "updated_at": "2017-11-09 11:33:02", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "option_uuid": "13147b40-c507-11e7-890b-c987bd73c9d2", "trackable": 0, "name": "Hold", "is_original": 1, "type": "option", "id": "354158", "price": 0, "created_at": "2017-11-09 11:33:03", "updated_at": "2017-11-09 11:33:03", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "price": 0, "created_at": "2017-11-09 11:32:2\n    1", "updated_at": "2017-11-09 11:32:21", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "f9faa150-c506-11e7-a671-33bd2e261084", "name": "Anytime", "is_original": 1, "type": "option", "id": "354154" } ], "id": "35590", "created_at": "2017-11-09 11:31:09", "multiple_choice": "0", "updated_at": "2018-03-23 05:19:53", "multiple_option": "0", "max_choice": 5, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719" }, { "max_choice": 5, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "min_choice": 0, "mandatory": "0", "name": "Time", "option": [ { "type": "option", "id": "354155", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "02845080-c507-11e7-a7e3-ff33f1ea9e91", "name": "Same time", "is_original": 1 }, { "id": "354156", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "02a5b600-c507-11e7-820a-0b731a229780", "name": "Table Share", "is_original": 1, "type": "option" }, { "name": "Wait for fire", "is_original": 1, "type": "option", "id": "354157", "price": 0, "created_at": "2017-11-09 11:33:02", "updated_at": "2017-11-09 11:33:02", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "12baf4d0-c507-11e7-9291-8d6c54a9d077" }, { "is_original": 1, "type": "option", "id": "354158", "price": 0, "created_at": "2017-11-09 11:33:03", "updated_at": "2017-11-09 11:33:03", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "13147b40-c507-11e7-890b-c987bd73c9d2", "trackable": 0, "name": "Hold" }, { "updated_at": "2017-11-09 11:32:21", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "f9faa150-c506-11e7-a671-33bd2e261084", "trackable": 0, "name": "Anytime", "is_original": 1, "type": "option", "id": "354154", "price": 0, "created_at": "2017-11-09 11:32:21" } ], "id": "35590", "created_at": "2017-11-09 11:31:09", "multiple_choice": "0", "updated_at": "2018-03-23 05:19:53", "multiple_option": "0" }, { "option": [ { "option_uuid": "02845080-c507-11e7-a7e3-ff33f1ea9e91", "trackable": 0, "name": "Same time", "is_original": 1, "type": "option", "id": "354155", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" }, { "name": "Table Share", "is_original": 1, "type": "option", "id": "354156", "price": 0, "created_at": "2017-11-09 11:32:35", "updated_at": "2017-11-09 11:32:35", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "02a5b600-c507-11e7-820a-0b731a229780", "trackable": 0 }, { "created_at": "2017-11-09 11:33:02", "updated_at": "2017-11-09 11:33:02", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "trackable": 0, "option_uuid": "12baf4d0-c507-11e7-9291-8d6c54a9d077", "name": "Wait for fire", "is_original": 1, "type": "option", "id": "354157", "price": 0 }, { "is_original": 1, "type": "option", "id": "354158", "price": 0, "created_at": "2017-11-09 11:33:03", "updated_at": "2017-11-09 11:33:03", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "option_uuid": "13147b40-c507-11e7-890b-c987bd73c9d2", "trackable": 0, "name": "Hold" }, { "trackable": 0, "option_uuid": "f9faa150-c506-11e7-a671-33bd2e261084", "name": "Anytime", "is_original": 1, "type": "option", "id": "354154", "price": 0, "created_at": "2017-11-09 11:32:21", "updated_at": "2017-11-09 11:32:21", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195" } ], "id": "35590", "created_at": "2017-11-09 11:31:09", "multiple_choice": "0", "updated_at": "2018-03-23 05:19:53", "multiple_option": "0", "max_choice": 5, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "cf36f690-c506-11e7-ad67-070312136195", "min_choice": 0, "mandatory": "0", "name": "Time" }, { "multiple_option": "0", "max_choice": 1, "is_original": 0, "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "min_choice": 1, "mandatory": "1", "name": "Pizza Size", "option": [ { "price": -10000, "c\n    reated_at": "2018-03-23 05:21:25", "updated_at": "2018-03-23 05:21:25", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "option_uuid": "08809140-2e5a-11e8-860c-5d835def37e1", "trackable": 0, "name": "size 30", "is_original": 0, "type": "option" }, { "id": "354152", "price": 398000, "created_at": "2017-11-09 11:32:04", "updated_at": "2017-11-09 11:32:04", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "option_uuid": "f04a1500-c506-11e7-98b6-dd035c35d0cc", "trackable": 0, "name": "18 \"",
                                "is_original": 1,
                                "type": "option" }, { "updated_at": "2017-11-09 11:32:20", "opt_set_uuid": "cea86fe0-c506-11e7-b87c-1f1cc4c618d7", "trackable": 0, "option_uuid": "f9985040-c506-11e7-88a6-6fe86a83bca1", "name": "12\"",
                                "is_original": 1,
                                "type": "option",
                                "id": "354153",
                                "price": 288000,
                                "created_at": "2017-11-09 11:32:20" } ], "id": "35589", "created_at": "2017-11-09 11:31:08", "multiple_choice": "0", "updated_at": "2017-11-09 11:31:08" } ], "taxes": [ { "name": "phuc", "all_categories": 1, "value": 21, "tax_type": 1, "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 672890.82, "cat_taxes": [], "value_type": 0, "cumulative": 1, "default": 1, "selected": true, "translations": [ { "id": 295, "created_at": "2018-05-02 04:43:43", "name": "phuc", "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "updated_at": "2018-05-02 04:43:43" } ], "subAmount": 0, "active": 1 }, { "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 0, "cat_taxes": [ { "is_tax_set": 0, "category_uuid": "87581b80-c439-11e7-bd77-27fabda24dbe" } ], "value_type": 1, "cumulative": 1, "default": 0, "selected": true, "translations": [ { "id": 314, "created_at": "2018-05-04 07:50:31", "name": "1223123", "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "updated_at": "2018-05-04 07:50:31" } ], "subAmount": 0, "active": 1, "name": "1223123", "all_categories": 0, "value": 11, "tax_type": 1 } ], "discount": [ { "name": "phuc", "all_categories": 1, "value": 21, "tax_type": 1, "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 672890.82, "cat_taxes": [], "value_type": 0, "cumulative": 1, "default": 1, "selected": true, "translations": [ { "id": 295, "created_at": "2018-05-02 04:43:43", "name": "phuc", "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "updated_at": "2018-05-02 04:43:43" } ], "subAmount": 0, "active": 1 }, { "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 0, "cat_taxes": [ { "is_tax_set": 0, "category_uuid": "87581b80-c439-11e7-bd77-27fabda24dbe" } ], "value_type": 0, "cumulative": 0, "default": 0, "selected": true, "translations": [ { "id": 314, "created_at": "2018-05-04 07:50:31", "name": "1223123", "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "updated_at": "2018-05-04 07:50:31" } ], "subAmount": 0, "active": 1, "name": "1223123", "all_categories": 0, "value": 11, "tax_type": 1 } ] } ], "order": { "request_time": 0, "env": "qa", "transaction_id": "20180516042030000000", "total_discount": 0, "price": 3204242, "qty": 6, "delivery_fee": 0, "order_type": 1, "discounts": null, "source": 0, "total_tax": 672890.82, "subtotal": 3204242, "status": 1, "total": 3877132.82, "delivery_time": 0, "order_number": 93, "is_supplier": 0, "uuid": "f4397c70-58bf-11e8-89b2-1f112ceff90c", "created_at": "2018-05-16 04:16:49", "taxes": [ { "name": "phuc", "all_categories": 1, "value": 21, "tax_type": 1, "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 672890.82, "cat_taxes": [], "value_type": 0, "cumulative": 1, "default": 1, "selected": true, "translations": [ { "id": 295, "created_at": "2018-05-02 04:43:43", "name": "phuc", "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "updated_at": "2018-05-02 04:43:43" } ], "subAmount": 0, "active": 1 }, { "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 0, "cat_taxes": [ { "is_tax_set": 0, "category_uuid": "87581b80-c439-11e7-bd77-27fabda24dbe" } ], "value_type": 1, "cumulative": 1, "default": 0, "selected": true, "translations": [ { "id": 314, "created_at": "2018-05-04 07:50:31", "name": "1223123", "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "updated_at": "2018-05-04 07:50:31" } ], "subAmount": 0, "active": 1, "name": "1223123", "all_categories": 0, "value": 11, "tax_type": 1 } ], "discount": [ { "name": "phuc", "all_categories": 1, "value": 21, "tax_type": 1, "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 672890.82, "cat_taxes": [], "value_type": 0, "cumulative": 1, "default": 1, "selected": true, "translations": [ { "id": 295, "created_at": "2018-05-02 04:43:43", "name": "phuc", "tax_uuid": "64c569e0-4dc3-11e8-9af5-fb74e9d63127", "updated_at": "2018-05-02 04:43:43" } ], "subAmount": 0, "active": 1 }, { "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "outlet_uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "amount": 0, "cat_taxes": [ { "is_tax_set": 0, "category_uuid": "87581b80-c439-11e7-bd77-27fabda24dbe" } ], "value_type": 0, "cumulative": 0, "default": 0, "selected": true, "translations": [ { "id": 314, "created_at": "2018-05-04 07:50:31", "name": "1223123", "tax_uuid": "d1ab8780-4f6f-11e8-bc36-6b0e25c91d93", "updated_at": "2018-05-04 07:50:31" } ], "subAmount": 0, "active": 1, "name": "1223123", "all_categories": 0, "value": 11, "tax_type": 1 } ], "updated_at": "2018-05-16 04:20:30", "note": null }, "outlet": { "name": "Pizza bella", "geo_location": { "lat": 21.0302079, "long": 105.8126939 }, "currency": { "code": "VND", "decimal_digits": 0, "symbol_position": 1, "symbol": "₫", "rounding": 0, "name": "Vietnamese Dong", "symbol_native": "₫", "name_plural": "Vietnamese dong" }, "uuid": "6c7cc550-c06c-11e7-9cc0-6791dae2a719", "hotel": { "env": "qa", "id": 323 }, "phone": "1688478526", "time_zone": null, "code": "27dsNrrJQE", "address": "506 Kim Mã, Ngọc Khánh, Ba Đình, Hà Nội, Vietnam", "translations": { "en": { "slug": "pizza-bella", "name": "Pizza bella" }, "vi": { "slug": "so-5-quang-trung", "name": "So 5 quang trung" } } } }, "error": false, "message": { "general": { "message": "operation success", "code": "operation_success" } } }</p>
<h2>&gt;####Order skeleton with only required fields </h2>
<p>&gt;{ "data": { "items": [ { "taxes": [ { "value": 21, "amount": 672890.82, "value_type": 0, "cumulative": 1, "subAmount": 0 }, { "amount": 0, "value_type": 1, "cumulative": 1, "subAmount": 0, "value": 11 } ], "discount": [ { "value": 21, "amount": 672890.82, "value_type": 0, "cumulative": 1, "subAmount": 0 }, { "amount": 0, "value_type": 0, "cumulative": 0, "subAmount": 0, "value": 11 } ], "amount": 242, "total_discount": 0, "price": 60.5, "qty": 4, "pretax_price": 60.5, "options": { "breakdown": [], "total": 0 }, "total_tax": 50.82, "subtotal": 242, "total": 292.82 }, { "amount": 3204000, "total_discount": 0, "price": 10000, "qty": 2, "pretax_price": 10000, "options": { "breakdown": [ { "price": 398000 }, { "price": 398000 }, { "price": 398000 }, { "price": 398000 } ], "total": 0 }, "total_tax": 672840, "subtotal": 3204000, "total": 3876840, "taxes": [ { "value": 21, "amount": 672890.82, "value_type": 0, "cumulative": 1, "subAmount": 0 }, { "amount": 0, "value_type": 1, "cumulative": 1, "subAmount": 0, "value": 11 } ], "discount": [ { "value": 21, "amount": 672890.82, "value_type": 0, "cumulative": 1, "subAmount": 0 }, { "amount": 0, "value_type": 0, "cumulative": 0, "subAmount": 0, "value": 11 } ] } ], "order": { "total_discount": 0, "price": 3204242, "qty": 6, "delivery_fee": 0, "total_tax": 672890.82, "subtotal": 3204242, "total": 3877132.82 } } }</p>
<p>&gt;_For example please refer the calculation tests_</p>
<p>&gt;_For further details please look into the index.html for documentation done with Doxygen._ </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
